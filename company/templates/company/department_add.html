{% extends 'company/base.html'%}
{% load staticfiles %}

{% block content %}

<div>

    <div class="alert alert-info col-8">
        <strong>Departments</strong>
    </div>

    <div class="form_company">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <!-- <div class="input-group mb-3">
                 <div class="input-group-prepend">
                 <span class="input-group-text" id="basic-addon1">Company Name: </span>
                 </div>
                 {{ form.company }}
                 </div>
            -->
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon2">Department: </span>
                </div>
                {{ form.department }}
            </div>

            <br>
            <center>
                <button class="btn btn-lg btn-primary" type="submit">Add</button>
            </center>
        </form>
    </div>

    <hr>
    <center>
    <div class="table-responsive" style="width: 700px;">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Department</th>
                    <th>Action</th>
                </tr>
            </thead>
            {% for obj in departments %}
            <tbody>
                <tr>
                    <td>{{obj.department}}</td>
                    <td>

                        <button type="button" class="btn btn-warning" onclick="window.location.href=''" class="btn btn-primary">Edit</button>

                        <button type="button" class="btn btn-danger" onclick="window.location.href='{% url 'company:department_delete' id=obj.id %}'" class="btn btn-primary">Delete</button>

                    </td>
                </tr>
            </tbody>
            {% endfor %}
        </table>
    </div>
    </center>
    {% endblock %}
